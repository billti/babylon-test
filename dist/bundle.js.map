{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./app.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./app.ts\");\n","// If Babylon.js was pre-loaded, rathen than on demand as here, then you could use the below type of\r\n// import, instead of needing to prefix references with \"BABYLON.\"\r\n//\r\n//   import {Engine, Scene} from \"babylonjs\"\r\n//\r\n// Note that you'd also need to add \"babylonjs\": \"BABYLON\" to the 'externals' in the webpack config.\r\n\r\n// const babylonSrcPath = \"/node_modules/babylonjs/babylon.max.js\";\r\n// const babylonMaterialsPath = \"/node_modules/babylonjs-materials/babylonjs.materials.js\";\r\nconst babylonSrcPath = \"https://cdn.babylonjs.com/babylon.js\"\r\nconst babylonMaterialsPath = \"https://cdn.babylonjs.com/materialsLibrary/babylon.gridMaterial.js\"\r\n\r\nlet useGrid = false;\r\n\r\nfunction loadScript(src: string): Promise<unknown> {\r\n  let result = new Promise( (resolve, reject) => {\r\n    let script = document.createElement(\"script\");\r\n    script.setAttribute(\"src\", src);\r\n    script.onload = () => resolve();\r\n    script.onerror = () => reject(\"Failed to load script: \" + src);\r\n    document.body.appendChild(script);\r\n  });\r\n  return result;\r\n}\r\n\r\nfunction loadBabylon() {\r\n  return loadScript(babylonSrcPath).then(() => loadScript(babylonMaterialsPath));\r\n}\r\n\r\nlet loadButton = document.getElementById(\"loadButton\") as HTMLButtonElement;\r\nloadButton.addEventListener(\"click\", () => {\r\n\r\n  let babylonPromise = typeof BABYLON === 'undefined' ? loadBabylon() : Promise.resolve()\r\n\r\n  babylonPromise.then(() => {\r\n    var canvas = document.getElementById(\"renderCanvas\") as HTMLCanvasElement;\r\n    var engine: BABYLON.Engine = new BABYLON.Engine(canvas!, true);\r\n\r\n    var gridToggle = document.getElementById(\"useGrid\") as HTMLInputElement;\r\n    var desertToggle = document.getElementById(\"useDesert\") as HTMLInputElement;\r\n    useGrid = gridToggle.checked;\r\n\r\n    function createScene(): BABYLON.Scene {\r\n        var scene: BABYLON.Scene = new BABYLON.Scene(engine);\r\n\r\n        var camera: BABYLON.ArcRotateCamera = new BABYLON.ArcRotateCamera(\"Camera\", Math.PI / 2, Math.PI / 2, 2, BABYLON.Vector3.Zero(), scene);\r\n        camera.attachControl(canvas, true);\r\n\r\n        var light1: BABYLON.HemisphericLight = new BABYLON.HemisphericLight(\"light1\", new BABYLON.Vector3(1, 1, 0), scene);\r\n\r\n        var box: BABYLON.Mesh = BABYLON.MeshBuilder.CreateBox(\"box\", {size: 0.5, faceColors: [\r\n          new BABYLON.Color4(1, 0, 0, 1),\r\n          new BABYLON.Color4(1, 1, 0, 1),\r\n          new BABYLON.Color4(0, 1, 0, 1),\r\n          new BABYLON.Color4(0, 1, 1, 1),\r\n          new BABYLON.Color4(0, 0, 1, 1),\r\n          new BABYLON.Color4(1, 0, 1, 1),\r\n        ]}, scene);\r\n        box.position.y = 0.25;\r\n\r\n        var sphere: BABYLON.Mesh = BABYLON.MeshBuilder.CreateSphere(\"sphere\", {diameter: 0.4}, scene);\r\n        sphere.position.z = 0.2;\r\n        sphere.position.y = 0.2;\r\n        sphere.position.x = 0.5;\r\n\r\n        var skybox = BABYLON.MeshBuilder.CreateBox(\"skyBox\", {size:1000.0}, scene);\r\n\r\n        var desertMaterial = new BABYLON.StandardMaterial(\"skyBox\", scene);\r\n        desertMaterial.backFaceCulling = false;\r\n        desertMaterial.reflectionTexture = new BABYLON.CubeTexture(\"textures/desert\", scene);\r\n        desertMaterial.reflectionTexture.coordinatesMode = BABYLON.Texture.SKYBOX_MODE;\r\n        desertMaterial.diffuseColor = new BABYLON.Color3(0, 0, 0);\r\n        desertMaterial.specularColor = new BABYLON.Color3(0, 0, 0);\r\n\r\n        var cloudsMaterial = new BABYLON.StandardMaterial(\"skyBox\", scene);\r\n        cloudsMaterial.backFaceCulling = false;\r\n        cloudsMaterial.reflectionTexture = new BABYLON.CubeTexture(\"textures/skybox\", scene);\r\n        cloudsMaterial.reflectionTexture.coordinatesMode = BABYLON.Texture.SKYBOX_MODE;\r\n        cloudsMaterial.diffuseColor = new BABYLON.Color3(0, 0, 0);\r\n        cloudsMaterial.specularColor = new BABYLON.Color3(0, 0, 0);\r\n\r\n        var ground: BABYLON.Mesh;\r\n        var grid: BABYLON.GridMaterial;\r\n\r\n        function CreateGrid() {\r\n        // Create the ground plane using a grid\r\n        // See example at https://www.babylonjs-playground.com/#1UFGZH#12\r\n          ground = BABYLON.MeshBuilder.CreateGround(\"ground\", {width: 2, height: 2, subdivisions: 2}, scene);\r\n          grid = new BABYLON.GridMaterial(\"grid\", scene);\r\n          grid.gridRatio = 0.1;\r\n          grid.majorUnitFrequency = 5;\r\n          grid.backFaceCulling = false;\r\n          grid.opacity = 0.98;\r\n          grid.mainColor = new BABYLON.Color3(1, 1, 1);\r\n          grid.lineColor = new BABYLON.Color3(1, 1, 1);\r\n          ground.material = grid;\r\n        }\r\n\r\n        // Create the ground plane using lines\r\n        var linesArray: Array<BABYLON.LinesMesh> = [];\r\n        function CreateLines() {\r\n          function DoLines(isX: boolean) {\r\n            for(let i = 0; i <= 20; i += 2) {\r\n              let pos = -1 + i * 0.1;\r\n              var points = [\r\n                new BABYLON.Vector3(isX ? pos : -1, 0, isX ? -1 : pos),\r\n                new BABYLON.Vector3(isX ? pos :  1, 0, isX ?  1 : pos)\r\n              ];\r\n              let lineColor = new BABYLON.Color4(1, 1, 1.0, (i % 5 == 0 ? 0.8 : 0.3))\r\n              var colors = [lineColor, lineColor];\r\n              linesArray.push(BABYLON.MeshBuilder.CreateLines(\"\", {points, colors}, useGrid ? null : scene));\r\n            }\r\n          }\r\n          DoLines(true);\r\n          DoLines(false);\r\n        }\r\n\r\n        function setSkybox() {\r\n          skybox.material = desertToggle.checked ? desertMaterial : cloudsMaterial;\r\n        }\r\n        desertToggle.addEventListener(\"change\", setSkybox);\r\n        setSkybox();\r\n\r\n        useGrid ? CreateGrid() : CreateLines();\r\n        gridToggle.addEventListener(\"change\", (ev: Event) => {\r\n          useGrid = gridToggle.checked;\r\n          if (useGrid) {\r\n            // Remove the lines, add the grid\r\n            linesArray.forEach(elem => elem.dispose());\r\n            linesArray = [];\r\n            CreateGrid();\r\n          } else {\r\n            grid.dispose();\r\n            ground.dispose();\r\n            CreateLines();\r\n          }\r\n        });\r\n\r\n        return scene;\r\n    }\r\n\r\n\r\n    var scene: BABYLON.Scene = createScene();\r\n\r\n    engine.runRenderLoop(() => {\r\n        scene.render();\r\n    });\r\n  });\r\n});\r\n\r\nexport default {\r\n  version: \"1.0.0\"\r\n};\r\n"],"sourceRoot":""}